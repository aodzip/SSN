# 湿湿娘APIv1.0

##歌曲列表
###请求
####基本
**GET** /?cmd=list
####可选
|参数 |意义               |默认   |可选                                               |
|-----|-------------------|-------|---------------------------------------------------|
|by   |指定排序依据       |publish|publish（NICO发布时间），download（湿湿娘下载时间）|
|order|指定排序顺序       |down   |down（新->旧），up（旧->新）                       |
|item |指定每页输出数量   |10     |1->20                                              |
|page |指定显示第几页信息 |1      |1->列表最大页                                      |
|range|指定歌曲列表范围   |无     |tag（标签检索），author（作者检索）                |
|keyword|指定歌曲列表范围检索关键字|无|任意字符|

**注意**，range和keyword必须同时出现，用于检索符合条件的歌曲列表

###返回
####歌曲列表
|KEY              |VALUE                                                                         |
|-----------------|------------------------------------------------------------------------------|
|STATUS           |[I]EmptyResult（空结果），[E]OutOfRange（请求的页数超出总页数），[I]OK（完成）|
|TOTALPAGE        |返回总页数                                                                    |
|CURRENTPAGE      |返回当前页码                                                                  |
|ITEMPERPAGE      |返回设定的每页数量                                                            |
|COUNTPERPAGE     |返回实际该页的数量                                                            |
|0->COUNTPERPAGE-1|歌曲对象组成的一个数组                                                        |
####歌曲对象
|KEY   |VALUE                                     |
|------|---------------------------               |
|ID    |歌曲ID，也叫番号或sm号，与NICO上的sm号一致|
|TITLE |歌曲的标题                                |
|AUTHOR|歌曲的作者（P主）                         |
|ISFAV |是否被用户收藏，2（表示此时用户未登陆）   |

##歌曲文件
###请求
**GET** /?cmd=file&name=xxx

|参数|意义            |可选                                                                            |
|----|----------------|--------------------------------------------------------------------------------|
|name|指定请求的文件名|ID.jpg（指定ID的封面图），ID.mp4（指定ID的视频文件），ID.mp3（指定ID的音频文件）|

###返回
相关文件的直接地址

##歌曲详情
###请求
**GET** /?cmd=query&id=xxx
###返回
|KEY        |VALUE                                                                                                       |
|-----------|------------------------------------------------------------------------------------------------------------|
|STATUS     |[I]NotIncluded（未收录），[I]InProcessing（正在处理队列），[E]ProcessingInterrupt（处理出错），[I]OK（完成）|
|ID         |歌曲ID，也叫番号或sm号，与NICO上的sm号一致                                                                  |
|TITLE      |歌曲的标题                                                                                                  |
|AUTHOR     |歌曲的作者（P主）                                                                                           |
|DESCRIPTION|歌曲的详细描述                                                                                              |
|TAG        |歌曲的相关标签                                                                                              |
|DATE       |歌曲在NICO上的投稿日期                                                                                      |
###BUG
1. TAG是一个使用","分割的字符串。这个字符串的开头部分也有个“,”，类似这样",tag1,tag2"，需要注意。
